<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>lib/Calendar.js - eagle-ui</title>
  
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-smart">
 <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <a class="navbar-brand mainlogo" href="">
             
            <img alt="eagle-ui" src="../assets/css/logo.png" title="eagle-ui">
            
                eagle-ui
          </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                 <ul class="nav navbar-nav">
                    
                    <li><a href="">主页</a>
                    </li>
                    
                    <li><a href="/documents/eagle-ui/examples/">例子</a>
                    </li>
                    
                </ul>
               <div class="navbar-form navbar-right filterAPi" autocomplete="off">
                <input type="text" id='txtSearchAPI' class="form-control search-query" placeholder="Search for API" />
                 <ul id="filterList" class="filterItems dropdown-menu" role="menu"></ul>
                </div>
            </div>
        </div>
    </nav>
    <div id="sidebar">
    <h3>Modules/Classes</h3>
        <div id="api-tabview-filter">
            <input id='txtSearch' type="search" class="form-control" placeholder="Type to filter Modules/Classes">
        </div>
        <dl id="sidebar_list">
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/form.html">form</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/CheckboxGroup.html">CheckboxGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Input.html">Input</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/RadioGroup.html">RadioGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Select.html">Select</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/ValidatorPanel.html">ValidatorPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Button.html">Button</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/ButtonGroup.html">ButtonGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/grid.html">grid</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Grid.html">Grid</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Row.html">Row</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Col.html">Col</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/panel.html">panel</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Panel.html">Panel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PanelContent.html">PanelContent</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PanelFooter.html">PanelFooter</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PanelHeader.html">PanelHeader</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/table.html">table</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Th.html">Th</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Table.html">Table</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Td.html">Td</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tr.html">Tr</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ui.html">ui</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Crumb.html">Crumb</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Slider.html">Slider</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Item.html">Item</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Search.html">Search</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Star.html">Star</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Calendar.html">Calendar</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/CalendarPanel.html">CalendarPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Dialog.html">Dialog</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Label.html">Label</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/LabelGroup.html">LabelGroup</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/List.html">List</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Paging.html">Paging</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tooltip.html">Tooltip</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Suggestion.html">Suggestion</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tab.html">Tab</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tabset.html">Tabset</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Toast.html">Toast</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/TooltipPanel.html">TooltipPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
        </dl>
</div>
   
    <div class="stdoc-content">
        <!--     <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>

 -->
        <div class="apidocs">
            <div id="docs-main">
                <div class="content">
                    <div class="page-header">
    <h1>lib/Calendar.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums" id='src_code'>
&#x27;use strict&#x27;;

exports.__esModule = true;

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&#x27;value&#x27; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { &#x27;default&#x27;: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&#x27;Cannot call a class as a function&#x27;); } }

function _inherits(subClass, superClass) { if (typeof superClass !== &#x27;function&#x27; &amp;&amp; superClass !== null) { throw new TypeError(&#x27;Super expression must either be null or a function, not &#x27; + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require(&#x27;react&#x27;);

var _react2 = _interopRequireDefault(_react);

var _classnames4 = require(&#x27;classnames&#x27;);

var _classnames5 = _interopRequireDefault(_classnames4);

var _utilsClassNameMixinJs = require(&#x27;./utils/ClassNameMixin.js&#x27;);

var _utilsClassNameMixinJs2 = _interopRequireDefault(_utilsClassNameMixinJs);

/**
 * 日历组件&lt;br /&gt;
 * 需要和CalendarPanel组合使用
 * @class Calendar
 * @module ui
 * @extends Component
 * @constructor
 * @since 0.1.0
 * @demo calendar.js {js}
 * @show true
 * */

var Calendar = (function (_Component) {
    _inherits(Calendar, _Component);

    _createClass(Calendar, null, [{
        key: &#x27;propTypes&#x27;,
        value: {
            /**
             * 样式类名前缀
             * @property classPrefix
             * @type String
             * @default calendar
             * */
            classPrefix: _react.PropTypes.string,
            /**
             * 起始日期
             * @property startDate
             * @type String
             * @default empty
             * */
            startDate: _react.PropTypes.string,
            /**
             * 终止日期
             * @property endDate
             * @type String
             * @default empty
             * */
            endDate: _react.PropTypes.string,
            /**
             * 默认选中日期
             * @property defaultDate
             * @type String
             * @default 当天
             * */
            defaultDate: _react.PropTypes.string,
            /**
             * 日期格式
             * @property format
             * @type string
             * @default &#x27;yyyy-MM-dd&#x27;
             * */
            format: _react.PropTypes.string,
            /**
             * 选择某个具体日期后执行的回调函数
             * @property selectCallback
             * @type Function
             * @default empty
             * */
            selectCallback: _react.PropTypes.func
        },
        enumerable: true
    }, {
        key: &#x27;defaultProps&#x27;,
        value: {
            format: &#x27;yyyy-MM-dd&#x27;,
            classPrefix: &#x27;calendar&#x27;
        },
        enumerable: true
    }]);

    function Calendar(props, context) {
        _classCallCheck(this, _Calendar);

        _Component.call(this, props, context);

        this.today = new Date();

        this.month = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];

        this.windowType = [&#x27;getCalendar&#x27;, &#x27;getMonths&#x27;, &#x27;getYears&#x27;];

        var defaultDate = this.props.defaultDate || new Date();
        this.state = {
            currentDate: defaultDate,
            selectedDate: defaultDate,
            show: false,
            year: typeof defaultDate != &#x27;string&#x27; ? defaultDate.getFullYear() : new Date(defaultDate).getFullYear(),
            windowType: this.windowType[!isNaN(this.props.windowType) ? this.props.windowType : 0]
        };
    }

    Calendar.prototype.getCurrentDate = function getCurrentDate() {
        var currentDate = this.state.currentDate;

        return typeof currentDate != &#x27;string&#x27; ? currentDate : new Date(currentDate);
    };

    Calendar.prototype.getSelectedDate = function getSelectedDate() {
        var selectedDate = this.state.selectedDate;

        return typeof selectedDate != &#x27;string&#x27; ? selectedDate : new Date(selectedDate);
    };

    Calendar.prototype.dateClick = function dateClick(date) {
        var d = date.split(&#x27;/&#x27;);
        var selectCallback = this.props.selectCallback;

        //console.dir(this.getDate(d[0],d[1],d[2]));
        selectCallback &amp;&amp; selectCallback(this.getDate(d[0], d[1], d[2]), d);
        this.setState({
            currentDate: new Date(date)
        });
        this.props.closeCallback &amp;&amp; this.props.closeCallback();
    };

    Calendar.prototype.getDates = function getDates(arr, selectedDate, defaultDate) {
        var d = undefined,
            dom = [],
            _this = this,
            month = selectedDate.getMonth(),
            year = selectedDate.getFullYear();

        var _props = this.props;
        var startDate = _props.startDate;
        var endDate = _props.endDate;

        //startDate=&#x27;2015/11/16&#x27;;
        //endDate=&#x27;2015/11/20&#x27;;
        for (var j = 1; j &lt;= 7; j++) {

            if (arr.length &gt; 0) {
                var _classnames;

                d = arr.shift();
                var disabled = startDate &amp;&amp; new Date(year, month, d).getTime() &lt;= new Date(startDate).getTime() || endDate &amp;&amp; new Date(year, month, d).getTime() &gt;= new Date(endDate).getTime();
                //&quot;eg-active&quot; eg-calendar-selected
                dom.push(_react2[&#x27;default&#x27;].createElement(
                    &#x27;td&#x27;,
                    { key: d + j + &#x27;day&#x27; },
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;span&#x27;,
                        { className: _classnames5[&#x27;default&#x27;](this.getClassName(&#x27;item&#x27;), (_classnames = {}, _classnames[this.getClassName(&#x27;active&#x27;, false)] = this.isToday(year, month + 1, d), _classnames[this.getClassName(&#x27;disabled&#x27;)] = disabled, _classnames[&#x27;no-hover&#x27;] = d == &#x27; &#x27;, _classnames[this.getClassName(&#x27;selected&#x27;)] = this.isOptionSelect(selectedDate, defaultDate) &amp;&amp; defaultDate.getDate() == d &amp;&amp; !disabled, _classnames)), onMouseDown: disabled || d == &#x27; &#x27; ? &#x27;&#x27; : _this.dateClick.bind(_this, year + &#x27;/&#x27; + (month + 1) + &#x27;/&#x27; + d) },
                        d
                    )
                ));
            }
        }
        return dom;
    };

    Calendar.prototype.isOptionSelect = function isOptionSelect(current, selectDate) {
        return current.getFullYear() == selectDate.getFullYear() &amp;&amp; current.getMonth() == selectDate.getMonth();
    };

    /**废弃*/

    Calendar.prototype.onChange = function onChange(e) {
        var target = e.target;
        this.setState({
            selectedDate: target.value
        });
    };

    /**废弃*/

    Calendar.prototype.drawSelect = function drawSelect() {
        var select = [],
            monthList = this.month,

        //date = this.state.selectedDate,
        selectedDate = this.getSelectedDate(),
            date = selectedDate,
            years = [],
            _this = this,
            year = date.getFullYear();

        years = [new Date(year - 1, 1, 1).getFullYear(), year, new Date(year + 1, 1, 1).getFullYear()];

        var option = function option() {
            return years.map(function (year) {
                return monthList.map(function (month) {
                    return _react2[&#x27;default&#x27;].createElement(
                        &#x27;option&#x27;,
                        { key: year + &#x27;/&#x27; + month + &#x27;/1&#x27;, value: year + &#x27;/&#x27; + month + &#x27;/1&#x27; },
                        year,
                        &#x27;年&#x27;,
                        _this.getDay(month),
                        &#x27;月&#x27;
                    );
                });
            });
        };
        select.push(_react2[&#x27;default&#x27;].createElement(
            &#x27;select&#x27;,
            {
                className: &#x27;options&#x27;,
                onChange: this.onChange.bind(this),
                defaultValue: this.defaultSelectDate = selectedDate.getFullYear() + &#x27;/&#x27; + (selectedDate.getMonth() + 1) + &#x27;/&#x27; + &#x27;1&#x27; },
            option()
        ));
        return select;
    };

    Calendar.prototype.draw = function draw() {
        var selectedDate = this.getSelectedDate(),
            defaultDate = this.getCurrentDate(),
            month = selectedDate.getMonth(),
            year = selectedDate.getFullYear(),
            arr = [];

        for (var i = 1, firstDay = new Date(year, month, 1).getDay(); i &lt;= firstDay; i++) {
            arr.push(&#x27; &#x27;);
        }
        for (var i = 1, monthDay = new Date(year, month + 1, 0).getDate(); i &lt;= monthDay; i++) {
            arr.push(i);
        }

        var d = undefined,
            dom = [],
            index = 0;
        while (arr.length &gt; 0) {
            index += 1;
            dom.push(_react2[&#x27;default&#x27;].createElement(
                &#x27;tr&#x27;,
                { className: &#x27;body&#x27;, key: &#x27;line&#x27; + index },
                this.getDates(arr, selectedDate, defaultDate)
            ));
        }

        return dom;
    };

    Calendar.prototype.isToday = function isToday(year, month, date) {
        var d = this.today;
        return d.getFullYear() == year &amp;&amp; d.getMonth() + 1 == month &amp;&amp; d.getDate() == date;
    };

    //补位

    Calendar.prototype.fill = function fill(d) {
        d = parseInt(d, 10);
        return d &lt; 10 ? &#x27;0&#x27; + d : d;
    };

    Calendar.prototype.getDate = function getDate(year, month, date) {
        var format = this.props.format;

        return format.replace(/y{4}/, year).replace(/M{1,2}/, this.fill(month)).replace(/d{1,2}/, this.fill(date));
    };

    Calendar.prototype.getDay = function getDay(day) {
        day *= 1;
        return day &lt;= 9 ? &#x27;0&#x27; + day : day;
    };

    Calendar.prototype.todayHandler = function todayHandler() {
        this.setState({
            selectedDate: this.today,
            currentDate: this.today
        });
        this.switchWindow(0);
        // this.dateClick(&#x60;${this.today.getFullYear()}/${this.getMonth(this.today.getMonth() )}/${this.today.getDate()}&#x60;);
    };

    Calendar.prototype.isParent = function isParent(obj, parentObj) {
        while (obj != undefined &amp;&amp; obj != null) {
            //&amp;&amp; obj.nodeType==1&amp;&amp; obj.tagName.toUpperCase() != &#x27;BODY&#x27;
            if (obj == parentObj) {
                return true;
            }
            obj = obj.parentNode;
        }
        return false;
    };

    Calendar.prototype.componentDidMount = function componentDidMount() {
        var _this = this;
        //let calendarContainer = ReactDOM.findDOMNode(this);
        /*document.addEventListener(&#x27;click&#x27;,function(e){
            if(_this.isParent(e.target,calendarContainer) ){
                console.dir(&#x27;parent&#x27;);
            }else{
                console.dir(&#x27;siquba&#x27;);
            }
        },false);*/
    };

    Calendar.prototype.getMonth = function getMonth(month) {
        return month + 1;
    };

    Calendar.prototype.getYears = function getYears() {
        var _this2 = this;

        var year = this.switchYearForInterval(this.state.year),
            sYear = this.getSelectedDateSplit().year,
            _this = this;

        var years = function years(year) {
            var y = year - 1,
                list = [];
            for (var i = -1; i &lt; 11; i++) {
                var _classnames2;

                list.push(_react2[&#x27;default&#x27;].createElement(
                    &#x27;span&#x27;,
                    { key: &#x27;year&#x27; + i },
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;i&#x27;,
                        { className: _classnames5[&#x27;default&#x27;]((_classnames2 = {}, _classnames2[_this.getClassName(&#x27;selected&#x27;, false)] = sYear == y, _classnames2.old = i == -1 || i == 10, _classnames2)), onMouseDown: _this.switchYear.bind(_this2, y) },
                        y
                    )
                ));
                y += 1;
            }
            return list;
        };

        return _react2[&#x27;default&#x27;].createElement(
            &#x27;table&#x27;,
            { className: &#x27;calendar&#x27; },
            _react2[&#x27;default&#x27;].createElement(
                &#x27;thead&#x27;,
                { className: &#x27;eg-calendar-header&#x27; },
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;tr&#x27;,
                    null,
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        null,
                        _react2[&#x27;default&#x27;].createElement(&#x27;div&#x27;, { className: this.getClassName(&#x27;icon-prev&#x27;, false), onMouseDown: this.switchYearForInterval.bind(this, year - 1, true) })
                    ),
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        { colSpan: &#x27;5&#x27; },
                        _react2[&#x27;default&#x27;].createElement(
                            &#x27;div&#x27;,
                            { className: &#x27;title&#x27; },
                            year + &#x27;年-&#x27; + (year + 9) + &#x27;年&#x27;
                        )
                    ),
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        null,
                        _react2[&#x27;default&#x27;].createElement(&#x27;div&#x27;, { className: this.getClassName(&#x27;icon-next&#x27;, false), onMouseDown: this.switchYearForInterval.bind(this, year + 10, true) })
                    )
                )
            ),
            _react2[&#x27;default&#x27;].createElement(
                &#x27;tbody&#x27;,
                null,
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;tr&#x27;,
                    { className: &#x27;month-list&#x27; },
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;td&#x27;,
                        { colSpan: &#x27;7&#x27; },
                        years(year)
                    )
                )
            )
        );
    };

    Calendar.prototype.getMonths = function getMonths() {
        var _context;

        var selectDate = this.getSelectedDateSplit(),
            _this = this;

        return _react2[&#x27;default&#x27;].createElement(
            &#x27;table&#x27;,
            { className: &#x27;calendar&#x27; },
            _react2[&#x27;default&#x27;].createElement(
                &#x27;thead&#x27;,
                { className: &#x27;eg-calendar-header&#x27; },
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;tr&#x27;,
                    null,
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        null,
                        _react2[&#x27;default&#x27;].createElement(&#x27;div&#x27;, { className: this.getClassName(&#x27;icon-prev&#x27;, false), onMouseDown: this.switchYear.bind(this, &#x27;-1&#x27;) })
                    ),
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        { colSpan: &#x27;5&#x27; },
                        _react2[&#x27;default&#x27;].createElement(
                            &#x27;div&#x27;,
                            { className: &#x27;title&#x27;, onMouseDown: (_context = this.switchWindow).bind.call(_context, this, 2) },
                            selectDate.year + &#x27;年&#x27;
                        )
                    ),
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        null,
                        _react2[&#x27;default&#x27;].createElement(&#x27;div&#x27;, { className: this.getClassName(&#x27;icon-next&#x27;, false), onMouseDown: this.switchYear.bind(this, &#x27;+1&#x27;) })
                    )
                )
            ),
            _react2[&#x27;default&#x27;].createElement(
                &#x27;tbody&#x27;,
                null,
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;tr&#x27;,
                    { className: &#x27;month-list&#x27; },
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;td&#x27;,
                        { colSpan: &#x27;7&#x27; },
                        this.month.map(function (item) {
                            var _classnames3;

                            return _react2[&#x27;default&#x27;].createElement(
                                &#x27;span&#x27;,
                                { key: item + &#x27;月&#x27; },
                                _react2[&#x27;default&#x27;].createElement(
                                    &#x27;i&#x27;,
                                    { className: _classnames5[&#x27;default&#x27;]((_classnames3 = {}, _classnames3[_this.getClassName(&#x27;selected&#x27;, false)] = selectDate.month == item, _classnames3)), onMouseDown: _this.switchMonth.bind(_this, item * 1 - 1) },
                                    item + &#x27;月&#x27;
                                )
                            );
                        })
                    )
                )
            )
        );
    };

    Calendar.prototype.getCalendar = function getCalendar() {
        var _context2;

        var selectDate = this.getSelectedDateSplit(),
            weeks = [&#x27;日&#x27;, &#x27;一&#x27;, &#x27;二&#x27;, &#x27;三&#x27;, &#x27;四&#x27;, &#x27;五&#x27;, &#x27;六&#x27;];

        return _react2[&#x27;default&#x27;].createElement(
            &#x27;table&#x27;,
            { className: &#x27;calendar&#x27; },
            _react2[&#x27;default&#x27;].createElement(
                &#x27;thead&#x27;,
                { className: &#x27;eg-calendar-header&#x27; },
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;tr&#x27;,
                    null,
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        null,
                        _react2[&#x27;default&#x27;].createElement(&#x27;div&#x27;, { className: this.getClassName(&#x27;icon-prev&#x27;, false), onMouseDown: this.switchMonth.bind(this, &#x27;-1&#x27;) })
                    ),
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        { colSpan: &#x27;5&#x27; },
                        _react2[&#x27;default&#x27;].createElement(
                            &#x27;div&#x27;,
                            { className: &#x27;title&#x27;, onMouseDown: (_context2 = this.switchWindow).bind.call(_context2, this, 1) },
                            selectDate.year + &#x27;年&#x27; + selectDate.month + &#x27;月&#x27;
                        )
                    ),
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;th&#x27;,
                        null,
                        _react2[&#x27;default&#x27;].createElement(&#x27;div&#x27;, { className: this.getClassName(&#x27;icon-next&#x27;, false), onMouseDown: this.switchMonth.bind(this, &#x27;+1&#x27;) })
                    )
                )
            ),
            _react2[&#x27;default&#x27;].createElement(
                &#x27;tbody&#x27;,
                null,
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;tr&#x27;,
                    { className: &#x27;head&#x27; },
                    weeks.map(function (week) {
                        return _react2[&#x27;default&#x27;].createElement(
                            &#x27;td&#x27;,
                            { key: week },
                            week
                        );
                    })
                ),
                this.draw()
            )
        );
    };

    Calendar.prototype.switchWindow = function switchWindow(type) {
        //this.setState({
        //    windowType:type
        //});
        this.props.setWindowType(type);
    };

    Calendar.prototype.switchYearForInterval = function switchYearForInterval() {
        var ye = arguments.length &lt;= 0 || arguments[0] === undefined ? this.getSelectedDateSplit().year : arguments[0];
        var t = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];

        var _this = this;

        //debugger;
        //let year = parseInt(ye / 10, 10) * 10;
        if (t) {
            this.setState({
                year: ye
            });
        } else {
            return parseInt(ye / 10, 10) * 10;
        }

        // return year;
    };

    Calendar.prototype.switchYear = function switchYear(type) {
        var selected = this.getSelectedDate(),
            year = selected.getFullYear();

        this.setState({
            selectedDate: new Date(typeof type == &#x27;string&#x27; ? year + eval(&quot;(&quot; + type + &quot;)&quot;) : type, selected.getMonth(), 1)
        });
        typeof type != &#x27;string&#x27; &amp;&amp; this.switchWindow(1);
    };

    Calendar.prototype.switchMonth = function switchMonth(type) {
        var selected = this.getSelectedDate(),
            year = selected.getFullYear(),
            month = selected.getMonth();

        this.setState({
            selectedDate: new Date(year, typeof type == &#x27;string&#x27; ? month + eval(&quot;(&quot; + type + &quot;)&quot;) : type, 1)
        });
        typeof type != &#x27;string&#x27; &amp;&amp; this.switchWindow(0);
    };

    Calendar.prototype.getSelectedDateSplit = function getSelectedDateSplit() {
        var selectedDate = this.getSelectedDate();

        var year = selectedDate.getFullYear(),
            month = this.getMonth(selectedDate.getMonth()),
            date = selectedDate.getDate();

        return { year: year, month: month, date: date };
    };

    Calendar.prototype.render = function render() {
        var windowType = this.props.windowType;

        windowType = this.windowType[windowType];
        //!isNaN(windowType) &amp;&amp;this.state.windowType==this.windowType[0] ?this.windowType[windowType] :this.state.windowType;
        return _react2[&#x27;default&#x27;].createElement(
            &#x27;div&#x27;,
            { className: _classnames5[&#x27;default&#x27;](this.getClassName(&#x27;container&#x27;), this.getClassName(this.props.show ? &#x27;show&#x27; : &#x27;hide&#x27;, false)) },
            _react2[&#x27;default&#x27;].createElement(
                &#x27;div&#x27;,
                { className: &#x27;eg-calendar-box&#x27; },
                _react2[&#x27;default&#x27;].createElement(
                    &#x27;div&#x27;,
                    { className: &#x27;box&#x27; },
                    _react2[&#x27;default&#x27;].createElement(
                        &#x27;div&#x27;,
                        { className: &#x27;eg-calendar-body&#x27; },
                        this[windowType](),
                        _react2[&#x27;default&#x27;].createElement(
                            &#x27;div&#x27;,
                            { style: {
                                    textAlign: &#x27;right&#x27;
                                } },
                            _react2[&#x27;default&#x27;].createElement(
                                &#x27;span&#x27;,
                                { style: {
                                        cursor: &#x27;pointer&#x27;
                                    }, onClick: this.todayHandler.bind(this) },
                                &#x27;今天&#x27;
                            )
                        )
                    )
                )
            )
        );
    };

    var _Calendar = Calendar;
    Calendar = _utilsClassNameMixinJs2[&#x27;default&#x27;](Calendar) || Calendar;
    return Calendar;
})(_react.Component);

exports[&#x27;default&#x27;] = Calendar;
module.exports = exports[&#x27;default&#x27;];
    </pre>
</div>

                </div>
            </div>
        </div>
    </div>
<a id="gotoTop" class='well well-small' href='#'>
    Top
</a>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/doc.js"></script>
</body>
</html>
